# Monitoring Setup for Kubernetes

This directory contains the Helm chart for setting up a monitoring stack in Kubernetes, which includes Prometheus, Grafana, Loki, and Alertmanager.

## Overview

The monitoring stack is designed to provide observability for your applications running in Kubernetes. It allows you to collect metrics, logs, and alerts, enabling you to monitor the health and performance of your services.

## Components

1. **Prometheus**: A powerful metrics collection and alerting toolkit. It scrapes metrics from configured targets at specified intervals, evaluates rule expressions, and can trigger alerts if certain conditions are met.

2. **Grafana**: A visualization tool that integrates with Prometheus to display metrics in a user-friendly dashboard. It allows you to create and share dashboards with various visualizations.

3. **Loki**: A log aggregation system designed to work seamlessly with Prometheus. It allows you to collect and query logs from your applications.

4. **Alertmanager**: Handles alerts generated by Prometheus. It can group, route, and send notifications via various channels such as email, Slack, or PagerDuty.

## Installation

To install the monitoring stack using Helm, follow these steps:

1. Ensure you have Helm installed on your local machine and configured to communicate with your Kubernetes cluster.

2. Navigate to the `k8s/monitoring` directory:

   ```bash
   cd k8s/monitoring
   ```

3. Install the Helm chart:

   ```bash
   helm install monitoring .
   ```

## Configuration

You can customize the monitoring stack by modifying the `values.yaml` file. This file contains default configuration values for each component. Adjust settings such as resource limits, replica counts, and service types according to your requirements.

## Accessing the Services

After installation, you can access the services as follows:

- **Prometheus**: Access the Prometheus UI by port-forwarding the service:

  ```bash
  kubectl port-forward svc/prometheus 9090:9090 -n monitoring
  ```

- **Grafana**: Access the Grafana UI by port-forwarding the service:

  ```bash
  kubectl port-forward svc/grafana 3000:80 -n monitoring
  ```

  The default login is `admin` and the password can be found in the `values.yaml` file.

- **Loki**: Loki can be queried through Grafana.

- **Alertmanager**: Access the Alertmanager UI by port-forwarding the service:

  ```bash
  kubectl port-forward svc/alertmanager 9093:9093 -n monitoring
  ```

## Conclusion

This monitoring setup provides a robust solution for observing your Kubernetes applications. Customize the configuration as needed and leverage the power of Prometheus, Grafana, Loki, and Alertmanager to maintain the health and performance of your services.